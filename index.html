<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Young Poets Special Event</title>
    <!-- React & Babel for Browser Support -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;400;700&family=Noto+Sans+KR:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Serif KR', serif; }
        .font-sans-kr { font-family: 'Noto Sans KR', sans-serif; }
        .grain-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; opacity: 0.04; z-index: 50;
            background-image: url('https://grainy-gradients.vercel.app/noise.svg');
        }
        @media print {
            .no-print { display: none; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // SVG Icons Components
        const SunIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-orange-300 animate-pulse"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
        );
        const ChevronRight = ({ size = 20 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>
        );
        const ShareIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
        );
        const DownloadIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
        );
        const RefreshIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
        );
        const HeartIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-orange-200"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );

        const App = () => {
            const parseStateFromHash = useCallback(() => {
                const hash = window.location.hash;
                if (hash.includes('/result')) {
                    const queryStr = hash.split('?')[1] || '';
                    const params = new URLSearchParams(queryStr);
                    const w = params.get('w');
                    return { step: 'result', word: w ? decodeURIComponent(w) : '' };
                }
                if (hash.includes('/input')) return { step: 'input', word: '' };
                return { step: 'intro', word: '' };
            }, []);

            const [step, setStep] = useState('intro');
            const [word, setWord] = useState('');
            const [isInitialized, setIsInitialized] = useState(false);

            useEffect(() => {
                const initialState = parseStateFromHash();
                setStep(initialState.step);
                setWord(initialState.word);
                setIsInitialized(true);
            }, [parseStateFromHash]);

            useEffect(() => {
                if (!isInitialized) return;
                let newHash = '#/';
                if (step === 'input') newHash = '#/input';
                else if (step === 'result' && word) newHash = `#/result?w=${encodeURIComponent(word)}`;
                if (window.location.hash !== newHash) {
                    window.history.pushState(null, '', newHash);
                }
            }, [step, word, isInitialized]);

            useEffect(() => {
                const handlePopState = () => {
                    const newState = parseStateFromHash();
                    setStep(newState.step);
                    setWord(newState.word);
                };
                window.addEventListener('popstate', handlePopState);
                return () => window.removeEventListener('popstate', handlePopState);
            }, [parseStateFromHash]);

            const handleComplete = () => {
                if (word.trim()) setStep('result');
            };

            const reset = () => {
                setStep('intro');
                setWord('');
                window.location.hash = '#/';
            };

            const bgImage = "https://images.unsplash.com/photo-1490750967868-88aa4486c946?auto=format&fit=crop&q=80&w=1000";

            if (!isInitialized) return null;

            return (
                <div className="min-h-screen bg-[#fafaf8] text-[#333] selection:bg-[#e8e4d8] overflow-hidden flex flex-col relative">
                    <div className="grain-overlay"></div>

                    <header className="p-8 flex justify-between items-center z-10 no-print">
                        <h1 className="text-xs tracking-[0.3em] font-light uppercase text-stone-500 font-sans-kr">2026 Young Poets</h1>
                        {step !== 'intro' && (
                            <button onClick={reset} className="text-[10px] uppercase tracking-widest border-b border-stone-300 pb-1 hover:border-black transition-colors font-sans-kr">
                                Reset
                            </button>
                        )}
                    </header>

                    <main className="flex-1 flex flex-col items-center justify-center p-6 relative z-10">
                        {step === 'intro' && (
                            <div className="max-w-md w-full space-y-12 animate-fade-in text-center">
                                <div className="space-y-6">
                                    <div className="flex justify-center mb-4">
                                        <SunIcon />
                                    </div>
                                    <h2 className="text-4xl md:text-5xl font-light leading-tight tracking-tight">
                                        다시, <br />봄을 적습니다
                                    </h2>
                                    <p className="text-sm font-sans-kr text-stone-400 leading-relaxed tracking-wide">
                                        당신의 마음속에 피어난 <br />
                                        단 하나의 단어를 들려주세요.
                                    </p>
                                </div>
                                <button 
                                    onClick={() => setStep('input')}
                                    className="group relative inline-flex items-center justify-center px-12 py-4 overflow-hidden font-medium transition duration-300 ease-out border border-[#333] rounded-full shadow-md"
                                >
                                    <span className="absolute inset-0 flex items-center justify-center w-full h-full text-white duration-300 -translate-x-full bg-[#333] group-hover:translate-x-0 ease">
                                        <ChevronRight size={20} />
                                    </span>
                                    <span className="absolute flex items-center justify-center w-full h-full text-[#333] transition-all duration-300 transform group-hover:translate-x-full ease tracking-[0.2em] text-xs font-sans-kr">문장 시작하기</span>
                                    <span className="relative invisible text-xs tracking-[0.2em] font-sans-kr">문장 시작하기</span>
                                </button>
                            </div>
                        )}

                        {step === 'input' && (
                            <div className="max-w-2xl w-full flex flex-col items-center animate-fade-in">
                                <div className="text-center mb-16 space-y-4">
                                    <span className="text-[10px] text-orange-400 font-sans-kr uppercase tracking-[0.3em]">Spring Reflection</span>
                                    <h3 className="text-3xl md:text-4xl font-light">
                                        봄 하면 생각나는 <br className="md:hidden" />단어가 있나요?
                                    </h3>
                                </div>

                                <div className="w-full max-w-md relative">
                                    <input 
                                        type="text"
                                        value={word}
                                        onChange={(e) => setWord(e.target.value)}
                                        onKeyDown={(e) => e.key === 'Enter' && handleComplete()}
                                        placeholder="단어를 입력하세요"
                                        className="w-full bg-transparent border-b border-stone-200 py-6 text-2xl md:text-3xl text-center outline-none focus:border-orange-200 transition-all font-light placeholder:text-stone-200 font-sans-kr"
                                        autoFocus
                                    />
                                    <div className="mt-8 flex justify-center">
                                        <button 
                                            onClick={handleComplete}
                                            disabled={!word.trim()}
                                            className="p-4 rounded-full bg-stone-50 text-stone-400 hover:text-black hover:bg-stone-100 disabled:opacity-20 transition-all"
                                        >
                                            <ChevronRight size={32} />
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 'result' && (
                            <div className="max-w-3xl w-full animate-fade-in flex flex-col items-center">
                                <div className="bg-white p-12 md:p-24 shadow-[0_20px_50px_rgba(0,0,0,0.05)] relative overflow-hidden w-full max-w-[480px] aspect-[3/4] flex flex-col justify-between border border-stone-100">
                                    <div 
                                        className="absolute inset-0 opacity-[0.07] grayscale pointer-events-none"
                                        style={{backgroundImage: `url(${bgImage})`, backgroundSize: 'cover', backgroundPosition: 'center'}}
                                    />
                                    
                                    <div className="relative z-10 text-center">
                                        <p className="text-[10px] uppercase tracking-[0.4em] text-stone-300 mb-16 font-sans-kr">Poetry of 2026</p>
                                    </div>

                                    <div className="relative z-10 space-y-8 text-center">
                                        <div className="space-y-2">
                                            <span className="text-xs text-orange-300 font-sans-kr tracking-widest uppercase">Title</span>
                                            <h2 className="text-4xl font-light tracking-tight text-[#222]">
                                                {word}
                                            </h2>
                                        </div>
                                        
                                        <div className="w-4 h-px bg-stone-200 mx-auto my-8" />

                                        <div className="space-y-4 text-base md:text-lg leading-relaxed font-light text-stone-600 italic">
                                            <p>수많은 계절을 지나</p>
                                            <p>우리가 다시 마주한 풍경 속에</p>
                                            <p>
                                                당신의 <span className="not-italic font-medium text-[#222] border-b border-orange-200/50">{word}</span>(이)가
                                            </p>
                                            <p>가장 먼저 기지개를 켭니다.</p>
                                        </div>
                                    </div>

                                    <div className="relative z-10 pt-16 text-center">
                                        <p className="text-[10px] font-sans-kr text-stone-300 tracking-[0.2em] uppercase">2026 Young Poets Archive</p>
                                    </div>
                                </div>

                                <div className="mt-12 flex gap-6 no-print">
                                    <button className="p-3 text-stone-400 hover:text-black transition-colors" onClick={() => window.print()}>
                                        <DownloadIcon />
                                    </button>
                                    <button className="p-3 text-stone-400 hover:text-black transition-colors" onClick={() => {
                                        navigator.clipboard.writeText(window.location.href);
                                        alert("주소가 복사되었습니다.");
                                    }}>
                                        <ShareIcon />
                                    </button>
                                    <button onClick={reset} className="p-3 text-stone-400 hover:text-black transition-colors">
                                        <RefreshIcon />
                                    </button>
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="p-8 flex justify-between items-center z-10 no-print">
                        <div className="text-[9px] uppercase tracking-widest text-stone-300 space-y-1 font-sans-kr">
                            <p>Location: Seoul, Korea</p>
                            <p>© 2026 Young Poets Collective</p>
                        </div>
                        <div className="flex items-center gap-4">
                            <HeartIcon />
                            <span className="text-[10px] text-stone-300 uppercase tracking-widest font-sans-kr">Special Edition</span>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
